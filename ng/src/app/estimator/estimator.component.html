<div class="container-fluid">
  <form [formGroup]="form">
    <!-- top -->
    <div class="row border-bottom border-dark">
      <div class="col-8">
        <div class="pr-3 d-flex justify-content-between flex-wrap border-right border-dark">
          <!-- customer -->
          <div class="form-group">
            <label for="customer">Customer</label>
            <ng-select
              id="customer"
              (change)="customerSelected()"
              [ngModelOptions]="{standalone: true}"
              [(ngModel)]="customer"
              [items]="customers$ | async"
              [typeahead]="customerInput$"
              [loading]="customersLoading"
              [minTermLength]="2"
              bindLabel="FamilyName"
              autofocus
            >
            </ng-select>
          </div>
          <!-- estimate status -->
          <div class="form-group">
            <label>Status</label>
            <select class="form-control" [class.is-invalid]="form.controls.status.dirty && !form.controls.status.valid" formControlName="status">
              <option>Pending</option>
            </select>
          </div>
          <!-- customer email -->
          <div class="form-group">
            <label for="email">Email</label>
            <input type="text" class="form-control" [class.is-invalid]="!form.controls.email.valid" id="email" formControlName="email">
          </div>
          <!-- customer phone -->
          <div class="form-group">
            <label for="phone">Phone</label>
            <input minlength="10" class="form-control" [class.is-invalid]="!form.controls.phone.valid" id="phone" formControlName="phone">
          </div>
          <!-- crm -->
          <div class="form-group">
            <label for="crm">CRM</label>
            <input type="text" class="form-control" [class.is-invalid]="form.controls.crm.dirty && !form.controls.crm.valid" id="crm" formControlName="crm">
          </div>
          <!-- billing address -->
          <div class="form-group">
            <label for="billing_address">Billing Address</label>
            <textarea rows="3" class="form-control" id="billing_address" [class.is-invalid]="form.controls.billing_address.dirty && !form.controls.billing_address.valid" formControlName="billing_address"></textarea>
          </div>
        </div>
        <div class="pr-3 d-flex justify-content-between flex-wrap border-right border-dark">
          <!-- estimate date -->
          <div class="form-group">
            <label for="estimate_date">Estimate Date</label>
            <input type="date" class="form-control" id="estimate_date" [class.is-invalid]="form.controls.estimate_date.dirty && !form.controls.estimate_date.valid" formControlName="estimate_date">
          </div>
          <!-- expiration date -->
          <div class="form-group">
            <label for="expiration_date">Expiration Date</label>
            <input type="date" class="form-control" id="expiration_date" [class.is-invalid]="form.controls.expiration_date.dirty && !form.controls.expiration_date.valid" formControlName="expiration_date">
          </div>
          <!-- estimate number -->
          <div class="form-group">
            <label for="estimate_number">Estimate Number</label>
            <input type="number" class="form-control" id="estimate_number" [class.is-invalid]="form.controls.estimate_number.dirty && !form.controls.estimate_number.valid" formControlName="estimate_number">
          </div>
          <!-- expiration time -->
          <div class="form-group">
            <label for="expiration_time">Expiration Time</label>
            <input type="time" class="form-control" id="expiration_time" [class.is-invalid]="form.controls.expiration_time.dirty && !form.controls.expiration_time.valid" formControlName="expiration_time">
          </div>
          <!-- bike model -->
          <div class="form-group">
            <label for="bike_model">Bike/Model</label>
            <input type="text" class="form-control" id="bike_model" [class.is-invalid]="form.controls.bike_model.dirty && !form.controls.bike_model.valid" formControlName="bike_model">
          </div>
          <!-- tag # -->
          <div class="form-group">
            <label for="tag_number">Tag #</label>
            <input type="text" class="form-control" id="tag_number" [class.is-invalid]="form.controls.tag_number.dirty && !form.controls.tag_number.valid" formControlName="tag_number">
          </div>
        </div>
      </div>
      <!-- messages -->
      <div class="col-4">
        <div class="form-group">
          <label for="message_estimate">Message displayed on estimate</label>
          <textarea rows="3" class="form-control" id="message_estimate"></textarea>
        </div>
        <div class="form-group">
          <label for="message_statement">Message displayed on statement</label>
          <textarea rows="3" class="form-control" id="message_statement"></textarea>
        </div>
      </div>
    </div>
    <!-- middle -->
    <div class="row border-bottom border-dark">
      <!-- inventory items -->
      <div class="col-4">
        <div class="form-group">
          <label for="inventory_items">Inventory Items</label>
          <select multiple class="form-control" id="inventory_items">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
        </div>
      </div>
      <!-- inventory chooser -->
      <div class="col-4">
      </div>
      <!-- labor items -->
      <div class="col-4">
        <div class="form-group">
          <label for="labor_items">Labor Items</label>
          <select multiple class="form-control" id="labor_items">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
        </div>
      </div>
    </div>
    <!-- bottom -->
    <table class="table table-striped table-bordered table-condensed">
      <thead>
      <tr>
        <th>#</th>
        <th>Product/Service</th>
        <th>Sku</th>
        <th>Description</th>
        <th>Quantity</th>
        <th>Rate</th>
        <th>Amount</th>
        <th>Tax</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      </tbody>
    </table>
    <!-- signature -->
    <div class="d-flex justify-content-center">
      <div>
        <h5>Customer Signature</h5>
        <canvas #signature class="border border-dark"></canvas>
      </div>
    </div>
  </form>
</div>
